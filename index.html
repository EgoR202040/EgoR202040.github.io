<!DOCTYPE html>
<html>
<head>
</head>
<body>
	<h1>Форма</h1>
	<form id = "form">
		<p>Фамилия*:             <input type="text"  placeholder="Фамилия" id = "patternal"></p>
		<p>Имя*:                 <input type="text"  placeholder="Имя" id = "name"></p>
		<p>Отчество:             <input type="text"  placeholder="Отчество" id ='patronymic'></p>
		<p>Дата рождения*:       <input type="text"  placeholder="Дата рождения" id ='birthDt'></p>
		<p>Серия паспорта:       <input type="text"  placeholder="Серия паспорта" id ='passport_series'></p>
		<p>Номер паспорта:       <input type="text"  placeholder="Номер паспорта" id ='passport_number'></p>
		<p>Дата выдачи паспорта: <input type="text"  placeholder="Дата выдачи паспорта" id ='issueDate'></p>
		<p>ИНН: <input type="text"  placeholder="ИНН" id="inn"></p>
		<p>СНИЛС: <input type="text"  placeholder="CНИЛС" id="snils"></p>
		<p>Номер в\у: <input type="text"  placeholder="Номер в\у" id="number_auto_license"></p>
		<p>Дата выдачи в\у: <input type="text"  placeholder="Дата выдачи в\у" id="date_auto_license"></p>
		<p>Мобильный Телефон: <input type="text"  placeholder="Мобильный Телефон" id = "user_phone"></p>
		<p>Домашний телефон: <input type="text"  placeholder="Домашний телефон" id="home_phone"></p>
		<p>Рабочий телефон: <input type="text"  placeholder="Рабочий телефон" id="work_phone"></p>
		<p>Дополнительный телефон: <input type="text"  placeholder="Дополнительный телефон" id="dop_phone"></p>
		<p>Почта: <input type="email" placeholder="Почта" id = "mail"></p>
		<p>Дополнительный email: <input type="text"  placeholder="Дополнительный email" id="second_mail"></p>
		<div id="error"></div>
	</form>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
let tg = window.Telegram.WebApp;
tg.expand();
tg.MainButton.textColor = "#FFFFFF";
tg.MainButton.color = "#2cab37";
tg.MainButton.text = "Отправить";
tg.MainButton.show();

Telegram.WebApp.onEvent("mainButtonClicked", function(){
	document.getElementById("error").innerText = '';
	let name = document.getElementById("name").value;
	let patternal = document.getElementById("patternal").value;
	let patronymic = document.getElementById("patronymic").value;
	let birthDt = document.getElementById("birthDt").value;
	let passport_series = document.getElementById("passport_series").value;
	let passport_number = document.getElementById("passport_number").value;
	let issueDate = document.getElementById("issueDate").value;
	let inn = document.getElementById("inn").value;
	let snils = document.getElementById("snils").value;
	let number_auto_license = document.getElementById("number_auto_license").value;
	let date_auto_license = document.getElementById("date_auto_license").value;
	let user_phone = document.getElementById("user_phone").value;
	let home_phone = document.getElementById("home_phone").value;
	let work_phone = document.getElementById("work_phone").value;
	let dop_phone = document.getElementById("dop_phone").value;
	let mail = document.getElementById("mail").value;
	let second_mail = document.getElementById("second_mail").value;
	if(name.length < 1){
		document.getElementById("error").innerText = 'Обязательное надо указать имя!';
		return;
	}
	if(patternal.length < 1){
		document.getElementById("error").innerText = 'Обязательное надо указать фамилию!';
		return;
	}
	if(birthDt.length < 10){
		document.getElementById("error").innerText = 'Обязательное надо указать дату рождения в формате XX.XX.XXXX';
		return;
	}
	let data = {
		name: name,
		patternal:patternal,
		patronymic:patronymic,
		birthDt:birthDt,
		passport_series:passport_series,
		passport_number:passport_number,
		issueDate:issueDate,
		inn:inn,
		snils:snils,
		number_auto_license:number_auto_license,
		date_auto_license:date_auto_license,
		user_phone:user_phone,
		home_phone:home_phone,
		work_phone:work_phone,
		dop_phone:dop_phone,
		mail:mail,
		second_mail:second_mail,
	};
	tg.sendData(JSON.stringify(data));
	tg.close();
});







</script>
</body>
</html>