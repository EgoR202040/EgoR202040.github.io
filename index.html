<!DOCTYPE html>
<html>
<head>
</head>
<body>
	<h1>Форма</h1>
	<form id = "form">
		<input type="text" required placeholder="Имя" id = "user_name">
		<input type="email" placeholder="Почта" id = "user_mail">
		<input type="text"  placeholder="Мобильный Телефон" id = "user_phone">
		<input type="text"  placeholder="Отчество" id ='user_second_name'>
		<input type="text"  placeholder="ИНН" id="snils">
		<input type="text"  placeholder="Номер в\у" id="number_auto_license">
		<input type="text"  placeholder="Дата выдачи в\у" id="data_auto_license">
		<input type="text"  placeholder="Домашний телефон" id="work_phone">
		<input type="text"  placeholder="Дополнительный телефон" id="home_phone">
		<input type="text"  placeholder="Дополнительный email" id="second_mail">
		<div id="error"></div>
	</form>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
let tg = window.Telegram.WebApp;
tg.expand();
tg.MainButton.textColor = "#FFFFFF";
tg.MainButton.color = "#2cab37";
tg.MainButton.text = "Отправить";
tg.MainButton.show();

Telegram.WebApp.onEvent("mainButtonClicked", function(){
	document.getElementById("error").innerText = '';
	let name = document.getElementById("user_name").value;
	let email = document.getElementById("user_mail").value;
	let phone = document.getElementById("user_phone").value;
	let mail_second = document.getElementById("second_mail").value;
	let second_name = document.getElementById("user_second_name").value;
	let snils = document.getElementById("snils").value;
	let number_auto_license = document.getElementById("number_auto_license").value;
	let data_auto_license = document.getElementById("data_auto_license").value;
	let work_phone = document.getElementById("work_phone").value;
	let home_phone = document.getElementById("home_phone").value;
	if(name.length < 1){
		document.getElementById("error").innerText = 'Ошибка в имени';
		return;
	}
	if(second_name.length < 1){
		document.getElementById("error").innerText = 'Ошибка в отчестве';
		return;
	}
	let data = {
		name: name,
		email: email,
		phone: phone,
		second_mail: mail_second,
		second_name: second_name,
		snils: snils,
		number_auto_license: number_auto_license,
		data_auto_license: data_auto_license,
		work_phone: work_phone,
		home_phone: home_phone,
	};
	tg.sendData(JSON.stringify(data));
	tg.close();
});







</script>
</body>
</html>